<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_a5db7f96735d6036f9365b65c7544b0c {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.css"/>
</head>
<body>
    
    
            <div class="folium-map" id="map_a5db7f96735d6036f9365b65c7544b0c" ></div>
        
</body>
<script>
    
    
            var map_a5db7f96735d6036f9365b65c7544b0c = L.map(
                "map_a5db7f96735d6036f9365b65c7544b0c",
                {
                    center: [60.1699, 24.9384],
                    crs: L.CRS.EPSG3857,
                    zoom: 11,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_82ad59b78585c5826e25cbec41a1283b = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_82ad59b78585c5826e25cbec41a1283b.addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713038, 60.187383796002614]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824762]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 41.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001125, 60.22388323188184]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2010<br>NO2: 0.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963928756155322, 60.193661904634055]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915987309060714, 60.190005157261446]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 53.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95331607923631, 60.16474874228203]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953868974183255, 60.181479147684456]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 49.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.955292255509818, 60.18169504542315]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 49.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.920952311140315, 60.156583678260546]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95331607923631, 60.16474874228203]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952181335866147, 60.164793214976854]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952269359397363, 60.16619341628472]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952470454607184, 60.16413811130991]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.973901968162785, 60.165283945720454]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.922686033878993, 60.177407737027494]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 41.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.916143636923344, 60.185248284078845]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915987309060714, 60.190005157261446]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 54.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91782897923657, 60.18874077750253]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 44.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.947451317969993, 60.17180124467809]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 42.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94807971966367, 60.17313883237808]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94867362438311, 60.17352500738791]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.951629740752807, 60.19696991370897]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 41.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.951413625287188, 60.19681725285937]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 44.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95105315220228, 60.196754292491555]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 48.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.962542507390115, 60.192081848522136]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 27.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.928158419414927, 60.16319371615976]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921927333126625, 60.170639812892226]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 27.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.03416534862627, 60.198401422424325]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2010<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.928780189953077, 60.2420429172244]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.927625915684477, 60.24153069834045]}, "properties": {"time": "2010-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2010<br>NO2: 27.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_792e73d3e90eff523b4cf3d4db3b8d92 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.955292255509818, 60.18169504542315]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 45.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921817124434156, 60.15636878023893]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95331607923631, 60.16474874228203]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952181335866147, 60.164793214976854]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.973901968162785, 60.165283945720454]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.922686033878993, 60.177407737027494]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.924971184058208, 60.17086595672663]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 30.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93074467010082, 60.166605763262666]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93583163771339, 60.162686052621126]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 38.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.916143636923344, 60.185248284078845]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.906153999400594, 60.193472048442366]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 41.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.906514044086247, 60.19364283556624]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.908478540930595, 60.193787812415096]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915987309060714, 60.190005157261446]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 49.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.946910329003376, 60.17214209574554]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 48.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.958932931655276, 60.19562606560225]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.892804183669337, 60.218709721550994]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 48.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943671637995433, 60.243459199671314]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 44.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939972318638468, 60.24250619232832]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.940134209946788, 60.24282937773431]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.941056491650844, 60.24196815760436]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.941309765259838, 60.24167208350836]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.941544965502644, 60.24138497630338]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.090162077810984, 60.21081507710077]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.090433111870695, 60.21099440038836]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.090704446250214, 60.21128142756657]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2011<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.085843616425734, 60.2147132588295]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 39.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.086060850082866, 60.21500930571288]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 30.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.08654854637288, 60.21526029916854]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713038, 60.187383796002614]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824762]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 39.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001125, 60.22388323188184]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2011<br>NO2: 15.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963928756155322, 60.193661904634055]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95331607923631, 60.16474874228203]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95117939027234, 60.19672741280969]}, "properties": {"time": "2011-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2011<br>NO2: 50.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_deabfa1bb17d3110ba76a1462229bcbd = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.955292255509818, 60.18169504542315]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 44.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.922686033878993, 60.177407737027494]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.916143636923344, 60.185248284078845]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915987309060714, 60.190005157261446]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 49.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95105315220228, 60.196754292491555]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 45.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.025454839026263, 60.241853148229985]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.0292999676267, 60.24165489774317]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.02895726226878, 60.24199603589687]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.02879495717102, 60.24219352869414]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.026952824022302, 60.2413412580947]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.026862471883327, 60.24123357230931]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.026898518491706, 60.241161762276406]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.027114854161802, 60.24080270458368]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.027295214883324, 60.240605210088]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.028215161249488, 60.239761335486804]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2012<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.978587207417533, 60.217010071974876]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.977342419382037, 60.21710859436784]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.97685515121554, 60.21739572224066]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.976530764935895, 60.216937921167485]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.156347620694838, 60.239717137672635]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.166177075923553, 60.22727430795502]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2012<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921817124434156, 60.15636878023893]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95331607923631, 60.16474874228203]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.973901968162785, 60.165283945720454]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2012<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.892804183669337, 60.218709721550994]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 48.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713038, 60.187383796002614]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824762]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001125, 60.22388323188184]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2012<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963928756155322, 60.193661904634055]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.025454839026263, 60.241853148229985]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91989204489198, 60.148316636758544]}, "properties": {"time": "2012-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2012<br>NO2: 22.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_b88dc4877001fc56c3f0f22901b1ae46 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.955292255509818, 60.18169504542315]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 45.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.922686033878993, 60.177407737027494]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.916143636923344, 60.185248284078845]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915987309060714, 60.190005157261446]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 49.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95105315220228, 60.196754292491555]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 43.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.892804183669337, 60.218709721550994]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 51.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.858151332335503, 60.163765561728525]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2013<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.856836667501497, 60.16374619726643]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921817124434156, 60.15636878023893]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.920683578961494, 60.15601806362453]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2013<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95331607923631, 60.16474874228203]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.973901968162785, 60.165283945720454]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2013<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.024062774156693, 60.26377115347571]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2013<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.973811962841797, 60.16522109985076]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2013<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713038, 60.187383796002614]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824762]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001125, 60.22388323188184]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2013<br>NO2: 15.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963928756155322, 60.193661904634055]}, "properties": {"time": "2013-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2013<br>NO2: 24.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_3cf6eaceb159367f20701aa402d456fc = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.955292255509818, 60.18169504542315]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 40.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.922686033878993, 60.177407737027494]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.916143636923344, 60.185248284078845]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 27.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915987309060714, 60.190005157261446]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 46.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95105315220228, 60.196754292491555]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 42.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.892804183669337, 60.218709721550994]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 51.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96233802785354, 60.24468645352799]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915987309060714, 60.190005157261446]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 50.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96116009188366, 60.18736935932187]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.960817801669098, 60.18724360280105]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2014<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.961358325489066, 60.187387368068556]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 46.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.961664897152396, 60.187234874985286]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 39.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.962458117640033, 60.18705559361422]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.962043692633777, 60.186965721474536]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921817124434156, 60.15636878023893]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2014<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95331607923631, 60.16474874228203]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.973901968162785, 60.165283945720454]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2014<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95525626425923, 60.181659131587175]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 41.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713038, 60.187383796002614]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824762]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001125, 60.22388323188184]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2014<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963928756155322, 60.193661904634055]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.955292255509818, 60.18169504542315]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 45.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.918619169421977, 60.15347675569518]}, "properties": {"time": "2014-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2014<br>NO2: 23.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_52abfd4d94ca85fc64ebf66e5c1799e8 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.955292255509818, 60.18169504542315]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 39.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.922686033878993, 60.177407737027494]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.916143636923344, 60.185248284078845]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915987309060714, 60.190005157261446]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 45.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95105315220228, 60.196754292491555]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 42.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.892804183669337, 60.218709721550994]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 49.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96233802785354, 60.24468645352799]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 38.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96356801520126, 60.193850289568466]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94318343014564, 60.21261067449779]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 48.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.944031459498824, 60.212440502689695]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95130502983876, 60.197104425933794]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 30.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953109620002515, 60.19588442131502]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953307365102738, 60.196279408867404]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95430006757288, 60.19544504202827]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 35.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.954786404874646, 60.1957413970779]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 30.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.959422869603763, 60.193041299406936]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.969486440091185, 60.18774850416688]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 48.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.947487549723487, 60.19424879055097]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.958932931655276, 60.19562606560225]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94421755370817, 60.1878210606368]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 30.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93805804935668, 60.18543086519781]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.947451317969993, 60.17180124467809]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.946910329003376, 60.17214209574554]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 40.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94114847981816, 60.17052408394844]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94264149210601, 60.171754373543045]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 47.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943640672777786, 60.166863186538855]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943297116468173, 60.167634928219634]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 49.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93583163771339, 60.162686052621126]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93183507895431, 60.17061835171753]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.927302756210697, 60.16735785763931]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.930599989213643, 60.16688392641582]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.920567510272477, 60.17427405793363]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 27.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.920356815212415, 60.17200314560556]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 30.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.919816460982723, 60.17196691809587]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 38.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921539071902984, 60.167264816711224]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 39.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.9208280865585, 60.16331519635662]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 27.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.89937979153333, 60.20402215931416]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.89885685591605, 60.204021761609525]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.901598271006666, 60.19783079565588]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.883348352233543, 60.19914436055835]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 38.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.9151401073084, 60.19002256865573]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92214580587296, 60.184892927228915]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 38.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92241551862135, 60.18515337255477]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 30.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.916070289226983, 60.18574188588372]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.917154608556217, 60.18455781203211]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915733063957337, 60.183713226379695]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921817124434156, 60.15636878023893]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2015<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95331607923631, 60.16474874228203]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.973901968162785, 60.165283945720454]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2015<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713038, 60.187383796002614]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2015<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824762]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001125, 60.22388323188184]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2015<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95197306744164, 60.19643151426898]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 43.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915824835063784, 60.190103783803295]}, "properties": {"time": "2015-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2015<br>NO2: 42.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_2b44011f49af3f171f656ecf633c3b0a = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713038, 60.187383796002614]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2016<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824762]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001125, 60.22388323188184]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2016<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95197306744164, 60.19643151426898]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.05209839448763, 60.2742013949429]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2016<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95544392069213, 60.18174203794313]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92276398474802, 60.177666005645804]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91574000058679, 60.190150043072045]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 42.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950708049216715, 60.196901989574826]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 39.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.962392921342616, 60.24468000684621]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963623014634923, 60.193834059179785]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.892292941592384, 60.218592986619484]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 40.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94320101763795, 60.2126620212157]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 45.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94391992960747, 60.21268799664011]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 39.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.954326735298082, 60.195454475390065]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.969495070407728, 60.18777103444346]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 44.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.967446071939264, 60.186052024354126]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 40.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95909400843187, 60.1956989956657]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.947423044906657, 60.17179504041518]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.944908967191743, 60.17166100343009]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.946572975618622, 60.17099301437334]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 38.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943327931172885, 60.167627043007755]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 48.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.944680078269588, 60.167758027425705]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 35.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.936155086955683, 60.16278098959081]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939632042813937, 60.164154067619506]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.941161987140067, 60.167201022208744]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.934041018528397, 60.16489304446784]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.919879967586052, 60.171928003084794]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 39.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91853591491564, 60.17439201885985]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 30.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921543199929825, 60.16727101221268]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 41.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.89940376070575, 60.204026665193304]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.898882055255466, 60.20397807062837]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.88337508345837, 60.19913101070784]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 35.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.884615984268905, 60.19797202446684]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.903843059902147, 60.191171071382556]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 27.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.922177859376532, 60.18490362679781]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 35.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92189004763879, 60.1559900587723]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953459941084528, 60.16478002743079]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2016<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.974140061778698, 60.165300058434944]}, "properties": {"time": "2016-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2016<br>NO2: 18.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_af3063a90e7622a08c095a8ccc342010 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713035, 60.18738379600401]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2017<br>NO2: 15.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824902]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 27.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001133, 60.22388323188324]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2017<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.951973067441635, 60.196431514270394]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921290937427543, 60.16557728547598]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95544392069213, 60.18174203794454]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91574000058679, 60.19015004307343]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 39.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.962392921342616, 60.24468000684763]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963623014634923, 60.19383405918122]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.892292941592384, 60.2185929866209]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 35.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94332815391908, 60.2123627465777]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 41.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.944616042330615, 60.20933400836993]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96813644455024, 60.18593515260951]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96744607193926, 60.186052024355526]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95909400843187, 60.19569899566713]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.946920044259677, 60.17214999802232]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94657297561862, 60.1709930143747]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93898101363619, 60.17258000523207]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94332793117288, 60.16762704300914]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 43.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94468402153698, 60.1676624405991]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93615508695568, 60.16278098959221]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94077611555917, 60.167229930799756]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91987996758605, 60.171928003086194]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92154319992982, 60.16727101221405]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 36.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.89888205525546, 60.2039780706298]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 30.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.883803406781926, 60.19792410441395]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.922177859376532, 60.18490362679923]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2017<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921890047638787, 60.155990058773696]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2017<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953459941084528, 60.164780027432165]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2017<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.974140061778694, 60.16530005843636]}, "properties": {"time": "2017-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2017<br>NO2: 17.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_ac46ac817486ab623471be0e672623b1 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713035, 60.18738379600401]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824902]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001133, 60.22388323188324]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.951973067441635, 60.196431514270394]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921290937427543, 60.16557728547598]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.956849542696876, 60.16219193692923]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95544392069213, 60.18174203794454]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91574000058679, 60.19015004307343]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 41.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.962392921342616, 60.24468000684763]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96366889305318, 60.19391520943358]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.892806847827845, 60.21872255849785]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 42.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.9447210936658, 60.1951319233686]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94332815391908, 60.2123627465777]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 38.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96745508413312, 60.18605103927189]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.958124996703972, 60.18028817501629]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94657297561862, 60.1709930143747]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 35.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94332793117288, 60.16762704300914]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 43.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.927284942329237, 60.167268093413156]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.929366265832947, 60.16642005192663]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921536336060687, 60.167279086052694]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 37.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.89888205525546, 60.2039780706298]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.899430337757945, 60.20488778505985]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.887715112000915, 60.211287715372414]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.881206582673954, 60.160432756070406]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921890043380436, 60.155991853863526]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953459947176075, 60.16477571921978]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.974136097862065, 60.16530194250638]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952388013205063, 60.19622522959048]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95190096809258, 60.19642251273835]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95231515906687, 60.19673680143019]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.951936341928604, 60.19688924654639]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2018<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952080477313597, 60.19695212652396]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952441240215336, 60.196817625331306]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952729577374114, 60.19689850704078]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95267494953848, 60.19727545448133]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953414528500186, 60.19698850342772]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95433355431373, 60.19729398674155]}, "properties": {"time": "2018-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2018<br>NO2: 15.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_951f8948c31cb18977a7fa0b038e97b8 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713035, 60.18738379600401]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 15.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824902]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001133, 60.22388323188324]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.951973067441635, 60.196431514270394]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92231763203816, 60.23421278799049]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92178404702324, 60.15520904128745]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91574000058679, 60.19015004307343]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96187203467122, 60.24468901311688]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963670336184425, 60.19391431228822]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952352137742444, 60.19672254382887]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952493915632463, 60.196795026193286]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 15.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952332289844914, 60.19673411496725]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.952465587419262, 60.19681144103141]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 15.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943329962249916, 60.2123600547353]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96744607193926, 60.186052024355526]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 34.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94657297561862, 60.1709930143747]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 33.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94332793117288, 60.16762704300914]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 38.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92154319992982, 60.16727101221405]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 31.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.89888205525546, 60.2039780706298]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 27.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.899489307007265, 60.20488711172292]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921396945083817, 60.1584450042895]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.909130026386233, 60.15928004610859]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.913067965604704, 60.16426002618458]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915302917924425, 60.23883502215322]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 32.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.913288921841026, 60.23897104468686]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2019<br>NO2: 29.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91635308241234, 60.239428061086414]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91612306806821, 60.23958300996775]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91601195101117, 60.23983299290957]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921890047638787, 60.155990058773696]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953459941084528, 60.164780027432165]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.974140061778694, 60.16530005843636]}, "properties": {"time": "2019-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2019<br>NO2: 16.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_eba417018a6d663771a29baa3e63dea2 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.950598497713035, 60.18738379600401]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 10.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824902]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001133, 60.22388323188324]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 8.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.951973067441635, 60.196431514270394]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2020<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92231763203816, 60.23421278799049]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 9.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92178404702324, 60.15520904128745]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91574000058679, 60.19015004307343]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2020<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96187203467122, 60.24468901311688]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2020<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963670336184425, 60.19391431228822]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.99800295143423, 60.23027001467275]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943329962249916, 60.2123600547353]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2020<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96744607193926, 60.186052024355526]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2020<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94657297561862, 60.1709930143747]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2020<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94332793117288, 60.16762704300914]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2020<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93591372126634, 60.16270682563081]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95908301018177, 60.19570006932298]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2020<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.919837149054143, 60.171904820564045]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92154319992982, 60.16727101221405]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.927702804471107, 60.19843099544563]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.962410200979406, 60.197440128171834]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 15.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921396945083817, 60.1584450042895]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 12.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.909130026386233, 60.15928004610859]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.916767486391166, 60.15543503916062]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 10.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943707761298285, 60.24345023965464]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2020<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94004853359526, 60.24258888966909]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94007978687929, 60.24297295864465]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.941090022293174, 60.24199500876391]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.941345807020348, 60.24170800081103]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94154800586124, 60.24140104350813]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 12.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921890047638787, 60.155990058773696]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953459941084528, 60.164780027432165]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.974140061778694, 60.16530005843636]}, "properties": {"time": "2020-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2020<br>NO2: 11.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_a97bbea0882f7ab88e2dfe24c09b2711 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95061656130787, 60.18735687648357]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 12.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824902]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001133, 60.22388323188324]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 10.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.951973067441635, 60.196431514270394]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.915842859701634, 60.190103795244795]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.97382998100555, 60.165212127965724]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 12.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91574000058679, 60.19015004307343]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96187203467122, 60.24468901311688]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95544392069213, 60.18174203794454]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963670336184425, 60.19391431228822]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.962410200979406, 60.197440128171834]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.97954390212842, 60.18706830556648]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 54.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943329962249916, 60.2123600547353]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96744607193926, 60.186052024355526]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94657297561862, 60.1709930143747]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94332793117288, 60.16762704300914]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.919837149054143, 60.171904820564045]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921245315130292, 60.16958928268358]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92154319992982, 60.16727101221405]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921216916102807, 60.16640298271972]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 26.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921525881165145, 60.15768800074942]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.909130026386233, 60.15928004610859]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.906316391172513, 60.19341831078439]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2021<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.922181743257333, 60.184937825436954]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94004853359526, 60.24258888966909]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 15.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921890047638787, 60.155990058773696]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953459941084528, 60.164780027432165]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 12.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.974140061778694, 60.16530005843636]}, "properties": {"time": "2021-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2021<br>NO2: 13.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_1ef63bb020dc65d16c625984a7335fb8 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95061656130787, 60.18735687648217]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 12.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824762]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001125, 60.22388323188184]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95197306744164, 60.19643151426898]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.024062774156693, 60.26377115347571]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91574000058679, 60.190150043072045]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.961872034671224, 60.24468901311543]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95544392069213, 60.18174203794313]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96367033618443, 60.19391431228682]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.96937320725858, 60.21256545302341]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.979543902128423, 60.18706830556508]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 51.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94332996224992, 60.212360054733914]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.967446071939264, 60.186052024354126]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 28.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.946572975618622, 60.17099301437334]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 22.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943327931172885, 60.167627043007755]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.919837149054143, 60.17190482056266]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921543199929825, 60.16727101221268]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.08593371320062, 60.2146772989754]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 25.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.933720625492274, 60.1646147354886]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2022<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93352236293425, 60.16468643978451]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92189004763879, 60.1559900587723]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953459941084528, 60.16478002743079]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 14.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.974140061778698, 60.165300058434944]}, "properties": {"time": "2022-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2022<br>NO2: 14.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_ded8bcedef5c30e57f89f529bbe36312 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
    
            L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
                _getDisplayDateFormat: function(date){
                    var newdate = new moment(date);
                    console.log(newdate)
                    return newdate.format("YYYY");
                }
            });
            map_a5db7f96735d6036f9365b65c7544b0c.timeDimension = L.timeDimension(
                {
                    period: "P1Y",
                }
            );
            var timeDimensionControl = new L.Control.TimeDimensionCustom(
                {"autoPlay": false, "loopButton": true, "maxSpeed": 1, "minSpeed": 0.1, "playerOptions": {"loop": false, "startOver": true, "transitionTime": 400}, "position": "bottomleft", "speedSlider": true, "timeSliderDragUpdate": true}
            );
            map_a5db7f96735d6036f9365b65c7544b0c.addControl(this.timeDimensionControl);

            var geoJsonLayer = L.geoJson({"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95061656130787, 60.18735687648217]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.939258641603235, 60.16964363824762]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.102521470001125, 60.22388323188184]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 8.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.95197306744164, 60.19643151426898]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [25.024062774156693, 60.26377115347571]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 9.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.961868607420282, 60.24468631952983]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.883348352233543, 60.19914436055835]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 17.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.91573459686805, 60.1901486035719]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.919837149054143, 60.17190482056266]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 19.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.921543199929825, 60.16727101221268]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.92189004763879, 60.1559900587723]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 11.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93265228823167, 60.158600643509196]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.933720625492274, 60.1646147354886]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 18.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.93352236293425, 60.16468643978451]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 16.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.953459941084528, 60.16478002743079]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 12.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.974140061778698, 60.165300058434944]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 13.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.943327931172885, 60.167627043007755]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 23.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.946572975618622, 60.17099301437334]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 21.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.955436355059717, 60.18173997105301]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 20.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.979543902128423, 60.18706830556508]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 45.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.967446071939264, 60.186052024354126]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 24.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.963676106031283, 60.193913147064436]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "blue"}, "popup": "Year: 2023<br>NO2: 12.0"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [24.94332996224992, 60.212360054733914]}, "properties": {"time": "2023-01-01", "style": {"fillColor": "red"}, "popup": "Year: 2023<br>NO2: 23.0"}}]}, {
                    pointToLayer: function (feature, latLng) {
                        if (feature.properties.icon == 'marker') {
                            if(feature.properties.iconstyle){
                                return new L.Marker(latLng, {
                                    icon: L.icon(feature.properties.iconstyle)});
                            }
                            //else
                            return new L.Marker(latLng);
                        }
                        if (feature.properties.icon == 'circle') {
                            if (feature.properties.iconstyle) {
                                return new L.circleMarker(latLng, feature.properties.iconstyle)
                                };
                            //else
                            return new L.circleMarker(latLng);
                        }
                        //else

                        return new L.Marker(latLng);
                    },
                    style: function (feature) {
                        return feature.properties.style;
                    },
                    onEachFeature: function(feature, layer) {
                        if (feature.properties.popup) {
                        layer.bindPopup(feature.properties.popup);
                        }
                        if (feature.properties.tooltip) {
                        layer.bindTooltip(feature.properties.tooltip);
                        }
                    }
                })

            var timestamped_geo_json_7949c5f4ad1a5ea5b6598ede3f182996 = L.timeDimension.layer.geoJson(
                geoJsonLayer,
                {
                    updateTimeDimension: true,
                    addlastPoint: true,
                    duration: "P1Y",
                }
            ).addTo(map_a5db7f96735d6036f9365b65c7544b0c);
        
</script>
</html>